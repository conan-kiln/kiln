From 5b8008e73226d5c6e0d4882e91f26bdb5ea7a0d1 Mon Sep 17 00:00:00 2001
From: Martin Valgur <martin.valgur@gmail.com>
Date: Mon, 17 Mar 2025 09:06:25 +0200
Subject: [PATCH 2/6] use glslang target instead of plain libraries

---
 PlugIns/GLSLang/CMakeLists.txt | 19 +------------------
 1 file changed, 2 insertions(+), 18 deletions(-)

diff --git a/PlugIns/GLSLang/CMakeLists.txt b/PlugIns/GLSLang/CMakeLists.txt
index 1784460..c2edfb7 100644
--- a/PlugIns/GLSLang/CMakeLists.txt
+++ b/PlugIns/GLSLang/CMakeLists.txt
@@ -19,24 +19,8 @@ elseif(DEFINED ENV{VULKAN_SDK})
     target_link_directories(Plugin_GLSLangProgramManager PUBLIC $ENV{VULKAN_SDK}/lib)
     target_link_libraries(Plugin_GLSLangProgramManager PUBLIC OgreMain shaderc_combined)
 else()
-  set(GLSLANG_LIBS glslang SPIRV SPIRV-Tools-opt SPIRV-Tools)
-  find_library(GLSLANG_OSDependent OSDependent)
-  if(GLSLANG_OSDependent)
-    set(GLSLANG_LIBS ${GLSLANG_LIBS} ${GLSLANG_OSDependent})
-  endif()
-  find_library(GLSLANG_HLSL HLSL)
-  if(GLSLANG_HLSL)
-    set(GLSLANG_LIBS ${GLSLANG_LIBS} ${GLSLANG_HLSL})
-  endif()
-  find_library(GLSLANG_OGLCompiler OGLCompiler)
-  if(GLSLANG_OGLCompiler)
-    set(GLSLANG_LIBS ${GLSLANG_LIBS} ${GLSLANG_OGLCompiler})
-  endif()
-  find_library(GLSLANG_MI MachineIndependent)
-  if(GLSLANG_MI)
-      set(GLSLANG_LIBS ${GLSLANG_MI} GenericCodeGen ${GLSLANG_LIBS})
-  endif()
-  target_link_libraries(Plugin_GLSLangProgramManager PUBLIC OgreMain ${GLSLANG_LIBS})
+  find_package(glslang REQUIRED CONFIG)
+  target_link_libraries(Plugin_GLSLangProgramManager PUBLIC OgreMain glslang::glslang)
 endif()
 ogre_config_framework(Plugin_GLSLangProgramManager)
 ogre_config_plugin(Plugin_GLSLangProgramManager)
-- 
2.43.0

