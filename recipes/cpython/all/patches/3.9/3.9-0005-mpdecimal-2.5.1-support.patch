From 73b20ae2fb7a5c1374aa5c3719f64c53d29fa0d2 Mon Sep 17 00:00:00 2001
From: Antoine Pitrou <antoine@python.org>
Date: Tue, 30 Mar 2021 18:11:06 +0200
Subject: [PATCH] bpo-41369: Finish updating the vendored libmpdec to version
 2.5.1 (GH-24962)

Complete the update to libmpdec-2.5.1.

Co-authored-by: Stefan Krah <skrah@bytereef.org>
---
 .../2021-03-21-17-50-42.bpo-41369.-fpmYZ.rst  |   2 +
 Modules/_decimal/_decimal.c                   |   4 +-

diff --git a/Modules/_decimal/_decimal.c b/Modules/_decimal/_decimal.c
index 83e237d02bf5a4..9a4329f494f31b 100644
--- a/Modules/_decimal/_decimal.c
+++ b/Modules/_decimal/_decimal.c
@@ -3279,7 +3279,7 @@
     }
     else {
         size_t n = strlen(spec.dot);
-        if (n > 1 || (n == 1 && !isascii((uchar)spec.dot[0]))) {
+        if (n > 1 || (n == 1 && !isascii((unsigned char)spec.dot[0]))) {
             /* fix locale dependent non-ascii characters */
             dot = dotsep_as_utf8(spec.dot);
             if (dot == NULL) {
@@ -3288,7 +3288,7 @@
             spec.dot = PyBytes_AS_STRING(dot);
         }
         n = strlen(spec.sep);
-        if (n > 1 || (n == 1 && !isascii((uchar)spec.sep[0]))) {
+        if (n > 1 || (n == 1 && !isascii((unsigned char)spec.sep[0]))) {
             /* fix locale dependent non-ascii characters */
             sep = dotsep_as_utf8(spec.sep);
             if (sep == NULL) {
