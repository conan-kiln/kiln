From 5763c13b432199f8b60eda84884c6bc2b6cb0f01 Mon Sep 17 00:00:00 2001
From: Martin Valgur <martin.valgur@gmail.com>
Date: Fri, 14 Mar 2025 14:41:42 +0200
Subject: [PATCH] add support for OpenEXR v3

---
 components/pango_image/src/image_io_exr.cpp | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

diff --git a/components/pango_image/src/image_io_exr.cpp b/components/pango_image/src/image_io_exr.cpp
index 9dcd7adab..8ace8f464 100644
--- a/components/pango_image/src/image_io_exr.cpp
+++ b/components/pango_image/src/image_io_exr.cpp
@@ -1,10 +1,12 @@
 #include <pangolin/platform.h>
 
+#include <cstdint>
 #include <fstream>
 #include <pangolin/image/typed_image.h>
 
 #ifdef HAVE_OPENEXR
 #include <ImfChannelList.h>
+#include <ImfFrameBuffer.h>
 #include <ImfInputFile.h>
 #include <ImfOutputFile.h>
 #include <ImfIO.h>
@@ -54,12 +56,12 @@ class StdIStream: public Imf::IStream
         return true;
     }
 
-    virtual Imf::Int64 tellg ()
+    virtual uint64_t tellg ()
     {
         return std::streamoff (_is->tellg());
     }
 
-    virtual void seekg (Imf::Int64 pos)
+    virtual void seekg (uint64_t pos)
     {
         _is->seekg (pos);
     }
